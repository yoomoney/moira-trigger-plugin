buildscript {
    apply from: 'project.gradle', to: buildscript
}
apply plugin: 'yamoney-gradle-project-plugin'
apply plugin: 'yamoney-kotlin-module-plugin'

pluginId = 'yamoney-moira-trigger-plugin'
gradlePlugin {
    plugins {
        moiraTriggerPlugin {
            id = pluginId
            implementationClass = 'ru.yandex.money.gradle.plugins.moira.trigger.MoiraTriggerPlugin'
        }
    }
}

dependencies {
    compile 'org.json:json:20180130',
            'org.jetbrains.kotlin:kotlin-compiler-embeddable',
            'org.jetbrains.kotlin:kotlin-script-util'

    compile 'ru.yandex.money.tools:yamoney-moira-client:1.0.0'

    testCompile gradleTestKit(),
            'junit:junit:4.12',
            'org.eclipse.jetty:jetty-webapp:9.4.12.v20180830',
            'com.nhaarman:mockito-kotlin:1.5.0'
    
    testCompile 'ru.yandex.money.tools:yamoney-moira-dsl:1.0.0'
}
